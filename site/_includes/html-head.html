
{%- if page.layout == "resume" -%}
  {%- assign metaTitle = site.title | append: " - " | append: site.description | escape -%}
{%- else -%}
  {%- assign metaTitle = page.title | append: " - " | append: site.title | escape -%}
{%- endif -%}

{%- if page.description -%}
  {%- assign metaDescription = page.description | escape -%}
{%- else -%}
  {%- assign metaDescription = page.content | strip_html | strip_newlines | escape | truncate: 155 -%}
{%- endif -%}

{%- assign authorName = page.author.name | default: site.author.name | escape -%}
{%- assign authorURL = page.author.url | default: site.author.url | escape -%}
{%- assign canonicalURL = page.url | absolute_url | replace: 'index.html', '' -%}

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta http-equiv='cache-control' content='no-cache'>
  <meta http-equiv='expires' content='0'>
  <meta http-equiv='pragma' content='no-cache'>

  <title>{{ metaTitle }}</title>
  <meta name="description" content="{{ metaDescription }}" />
  <meta name="author" content="{{ authorName }}" />
  <link rel="canonical" href="{{ canonicalURL }}" />

  <meta property="og:title" content="{{ metaTitle }}" />
  <meta property="og:description" content="{{ metaDescription }}" />
  <meta property="og:url" content="{{ canonicalURL }}" />

  <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">

  {%- include html-head-custom.html -%}

  {%- case page.layout -%}
    {%- when "resume" -%}
      <script type="application/ld+json">{%- include ld-person.json -%}</script>
      <script type="application/ld+json">{%- include ld-website.json -%}</script>
    {%- when "page", "search" -%}
      <script type="application/ld+json">{%- include ld-webpage.json -%}</script>
    {%- when "blog" -%}
      <script type="application/ld+json">{%- include ld-blog.json -%}</script>
    {%- when "post" -%}
      <script type="application/ld+json">{%- include ld-post.json -%}</script>
    {% else %}
      <!-- no ld-json-->
  {%- endcase -%}

  {%- if jekyll.environment == 'production' and site.google_analytics -%}
  {%- include google-analytics.html -%}
  {%- endif -%}

</head>